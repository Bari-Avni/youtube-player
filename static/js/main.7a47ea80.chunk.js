(this["webpackJsonpyoutube-player"]=this["webpackJsonpyoutube-player"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(23),s=n.n(a),c=n(16),o=(n(50),n(6)),u=n(19),d=n(12),l=n(13),h=n(15),j=n(14),p=n(5),b=n(17),v=(n(51),n(0)),f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={term:""},e.handleChange=function(t){var n=t.target,r=n.name,i="number"===n.type?+n.value:n.value;e.setState(Object(b.a)({},r,i))},e.onSearch=function(t){t.preventDefault(),e.props.onChangeFilter(Object(p.a)({},e.state))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.name;return Object(v.jsxs)("form",{className:"video-filter flex justify-center",onSubmit:this.onSearch,children:[Object(v.jsx)("input",{type:"text",id:"term",name:"term",required:"required",placeholder:"Search on YouTube",autoComplete:"off",value:e,onChange:this.handleChange}),Object(v.jsx)("button",{children:"Search"})]})}}]),n}(r.Component);n(53);function m(e){var t,n=e.video,r=e.onSelectVideo;function i(e){return e.length>60?e.substring(0,60)+"...":e}return Object(v.jsxs)("div",{className:"video-preview",children:[Object(v.jsx)("img",{src:n.img.url,width:n.img.width,height:n.img.height,alt:""}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsxs)("div",{className:"preview-section flex",children:[Object(v.jsx)("p",{className:"preview-header",children:"Song Name:"}),Object(v.jsx)("p",{className:"preview-title",children:i(n.title)})]}),Object(v.jsxs)("div",{className:"preview-section flex",children:[Object(v.jsx)("p",{className:"preview-header",children:"Song Description:"}),Object(v.jsx)("p",{className:"preview-txt",children:i(n.description)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)("p",{className:"preview-header",children:"Total views: "}),Object(v.jsx)("p",{className:"preview-txt",children:(t=n.views,parseInt(t).toLocaleString("he-IL"))})]})]}),Object(v.jsx)("button",{onClick:function(){return r(n)},children:"Play"})]})}n(54);function O(e){var t=e.videos,n=e.onSelectVideo;return t&&t.length?Object(v.jsx)("section",{className:"video-list",children:Object(v.jsx)("ul",{className:"clean-list",children:t&&t[0].videos.map((function(e,t){return Object(v.jsx)("li",{children:Object(v.jsx)(m,{onSelectVideo:function(){return n(e)},video:e},e.id)},t)}))})}):Object(v.jsx)("div",{children:"Loading Videos....."})}var g=n(2),x=n.n(g),y=n(4),w=n(22),A=n.n(w),S="/api/",V=A.a.create({withCredentials:!0}),N=function(e,t){return E(e,"GET",t)},k=function(e,t){return E(e,"POST",t)},C=function(e,t){return E(e,"PUT",t)},D=function(e,t){return E(e,"DELETE",t)};function E(e){return I.apply(this,arguments)}function I(){return(I=Object(y.a)(x.a.mark((function e(t){var n,r,i,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,V({url:"".concat(S).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/signup"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var T={getUsers:function(){return N("user")},getById:function(e){return N("user/".concat(e))},remove:function(e){return D("user/".concat(e))},update:U,getUser:P,addVideo:function(e,t){var n=P();return n.videos.unshift({searchWord:e.searchWord,videoName:e.title,videoDuration:t,time:Date.now()}),U(n),B(n)},getLoggedinUser:G,login:function(e){return Y.apply(this,arguments)},signup:function(e){return R.apply(this,arguments)},logout:function(){return M.apply(this,arguments)}};function U(e){return L.apply(this,arguments)}function L(){return(L=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("user/".concat(t._id),t);case 2:t=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){var e=G();return e||{}}function Y(){return(Y=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",B(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",B(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),e.next=3,k("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return JSON.parse(localStorage.getItem("loggedinUser"))}function B(e){return localStorage.setItem("loggedinUser",JSON.stringify(e)),e}n(74);var F=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={video:null,videoDuration:null},e.loadVideo=function(){var t=e.props.selectedVideo.id;console.log("load-video-id",t),e.player=new window.YT.Player("player",{playerVars:{autoplay:1,origin:"http://localhost:3000/#/"},events:{onReady:e.onPlayerReady}})},e.onPlayerReady=function(t){var n=t.target;console.log("ready-event",t),e.setState({videoDuration:n.getDuration()}),n.playVideo(),e.props.addVideo(e.state.video,e.state.videoDuration)},e.onPlayerApiChange=function(t){var n=t.target;console.log("api-event",t),e.setState({videoDuration:n.getCurrentTime()}),e.props.addVideo(e.state.video,e.state.videoDuration)},e.onPlayerStateChange=function(e){var t=e.target;console.log("state-event",e),console.log("player-state",t.getPlayerState()),console.log("time",t.getCurrentTime())},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({video:this.props.selectedVideo});var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];if(t.parentNode.insertBefore(e,t),window.YT)window.onYouTubeIframeAPIReady=this.loadVideo();else{var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),window.onYouTubeIframeAPIReady=this.loadVideo}}},{key:"componentDidUpdate",value:function(e,t){if(e.selectedVideo.id!==this.props.selectedVideo.id&&this.setState({video:this.props.selectedVideo}),window.YT)e.selectedVideo.id!==this.props.selectedVideo.id&&(console.log("YT player - change video"),window.onYouTubeIframeAPIReady=this.loadVideo());else{var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),window.onYouTubeIframeAPIReady=this.loadVideo}}},{key:"render",value:function(){var e=this.state.video;return e?Object(v.jsxs)("section",{className:"video-details",children:[Object(v.jsx)("iframe",{id:"player",src:"https://www.youtube.com/embed/".concat(e.id,"?version=3&enablejsapi=1&autoplay=1&allow=autoplay"),autoPlay:"1",allow:"autoplay",width:"560",height:"315",frameBorder:"0",title:"ytplayer"}),Object(v.jsxs)("p",{className:"title",children:["Currently playing: ",Object(v.jsx)("span",{children:e.title})]})]}):Object(v.jsx)("div",{children:"Loading Video....."})}}]),n}(r.Component),Q={addVideo:function(e,t){return function(){var n=Object(y.a)(x.a.mark((function n(r){var i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.addVideo(e,t);case 2:i=n.sent,r({type:"SET_USER",user:i});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},X=Object(c.b)((function(e){return{video:e.videoReducer.currVideo,user:e.userReducer.user}}),Q)(F),Z={getVideos:function(e){console.log("filterBy",e);var t=e?"?txt=".concat(e.term):"";return N("video".concat(t))},getYTVideos:function(e){return z.apply(this,arguments)},getVideoById:function(e){return N("video/".concat(e))},removeVideo:function(e){return D("video/".concat(e))},saveVideo:function(e){return e._id?C("video/".concat(e._Id),e):k("video",e)},getEmptyVideo:function(){return{searchWord:"",videos:[]}}},q="AIzaSyBnWvaojEtdHAjoLNxrG8k87QpGpvOHgiQ";function z(){return(z=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("filterBy",t),e.abrupt("return",A.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&maxResults=2&key=".concat(q,"&q=").concat(t.term)).then((function(e){return e.data.items})).then((function(e){return e.map((function(e){return e.id.videoId})).join()})).then((function(e){return A.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id=".concat(e,"&key=").concat(q))})).then((function(e){return e.data.items})).then((function(e){return e.map((function(e){return{id:e.id,title:e.snippet.title,description:e.snippet.description,duration:e.contentDetails.duration,views:e.statistics.viewCount,img:{url:e.snippet.thumbnails.default.url,width:e.snippet.thumbnails.default.width,height:e.snippet.thumbnails.default.height},searchWord:t.term}}))})).then((function(e){return k("video",e)})).then((function(e){return[e]})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(75);var H=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={videos:null,selectedVideo:null,filterBy:{term:""}},e.onChangeFilter=function(t){e.setState({filterBy:t}),e.props.loadVideos(t)},e.onSelectVideo=function(t){e.setState({selectedVideo:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadVideos(this.state.filterBy||"beatles")}},{key:"componentDidUpdate",value:function(){this.state.selectedVideo||this.setState({selectedVideo:this.props.videos[0].videos[0]})}},{key:"render",value:function(){var e=this.props.videos;return Object(v.jsxs)("section",{className:"video-app main-container",children:[Object(v.jsx)(f,{onChangeFilter:this.onChangeFilter}),Object(v.jsxs)("div",{className:"video-container flex space-between",children:[Object(v.jsx)(O,{onSelectVideo:this.onSelectVideo,videos:e}),this.state.selectedVideo&&Object(v.jsx)(X,{selectedVideo:this.state.selectedVideo})]})]})}}]),n}(r.Component),J={loadVideos:function(e){return function(){var t=Object(y.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.getVideos(e);case 2:if((r=t.sent).length){t.next=7;break}return t.next=6,Z.getYTVideos(e);case 6:r=t.sent;case 7:n({type:"SET_VIDEOS",videos:r});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},K=Object(c.b)((function(e){return{videos:e.videoReducer.videos}}),J)(H),W=(n(76),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={user:null,users:null,selectedUser:null},e.onUserAdmin=function(e){return e?"Yes":"No"},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"loadUser",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getUser();case 2:if(t=e.sent,this.setState({user:t}),this.setState({selectedUser:t}),!t.isAdmin){e.next=10;break}return e.next=8,T.getUsers();case 8:n=e.sent,this.setState({users:n});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDuration",value:function(e){var t=new Date(0);return t.setSeconds(e),t.toISOString().substr(11,8)}},{key:"getTime",value:function(e){return new Date(e).toLocaleString("he-IL")}},{key:"showVideos",value:function(e){this.setState({selectedUser:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,r=t.users,i=t.selectedUser;return n&&i?Object(v.jsxs)("section",{className:"statistic-page main-container",children:[Object(v.jsx)("h1",{children:"Statistics Page:"}),Object(v.jsxs)("div",{className:"stats-cred flex",children:[Object(v.jsxs)("h2",{children:["Fullname: ",n.username]}),Object(v.jsxs)("h2",{children:["Username: ",n.fullname]}),Object(v.jsxs)("h2",{children:["Admin: ",this.onUserAdmin(n.isAdmin)]})]}),r&&n.isAdmin?Object(v.jsxs)("div",{className:"stats-users",children:[Object(v.jsx)("h3",{children:"Users list:"}),Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Id"}),Object(v.jsx)("th",{children:"fullname"}),Object(v.jsx)("th",{children:"Username"}),Object(v.jsx)("th",{children:"Admin"}),Object(v.jsx)("th",{children:"Watched videos"})]})}),Object(v.jsx)("tbody",{children:r.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n+1}),Object(v.jsx)("td",{children:t.fullname}),Object(v.jsx)("td",{children:t.username}),Object(v.jsx)("td",{children:e.onUserAdmin(t.isAdmin)}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{onClick:function(){return e.showVideos(t)},children:"Show"})})]},n)}))})]})]}):"",i.videos.length>0?Object(v.jsxs)("div",{className:"stats-videos",children:[Object(v.jsxs)("h3",{children:["User ",i.fullname," watched videos:"]}),Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Id"}),Object(v.jsx)("th",{children:"Search term"}),Object(v.jsx)("th",{children:"Video name"}),Object(v.jsx)("th",{children:"Video duration"}),Object(v.jsx)("th",{children:"Time watched"})]})}),Object(v.jsx)("tbody",{children:i.videos.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n+1}),Object(v.jsx)("td",{children:t.searchWord}),Object(v.jsx)("td",{children:t.videoName}),Object(v.jsx)("td",{children:e.getDuration(t.videoDuration)}),Object(v.jsx)("td",{children:e.getTime(t.time)})]},n)}))})]})]}):Object(v.jsxs)("h3",{children:["No watched videos yet for user ",i.fullname]})]}):Object(v.jsx)("div",{children:"Loading user....."})}}]),n}(r.Component)),_=(n(77),Object(o.g)((function(e){return Object(v.jsx)("section",{className:"header-container main-container",children:Object(v.jsxs)("div",{className:"app-header",children:[Object(v.jsx)(u.b,{exact:!0,to:"/",activeClassName:"active-nav",children:Object(v.jsxs)("div",{className:"logo",children:[Object(v.jsx)("img",{src:"data:image/png;base64,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",alt:""}),Object(v.jsx)("h3",{children:"YouTube Player"})]})}),Object(v.jsxs)("ul",{className:"nav",children:[Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{exact:!0,to:"/",activeClassName:"active-nav",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{exact:!0,to:"/signup",activeClassName:"active-nav",children:"Login/Signup"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/stats",activeClassName:"active-nav",children:"Statistics"})})]})]})})}))),$=(n(79),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={loggedinUser:T.getLoggedinUser(),credentials:null,signupCredentials:{isAdmin:!1}},e.handleSignupChange=function(t){var n=t.target,r=n.name,i="checkbox"===n.type?n.checked:n.value;e.setState((function(e){return{signupCredentials:Object(p.a)(Object(p.a)({},e.signupCredentials),{},Object(b.a)({},r,i))}}))},e.handleLoginChange=function(t){var n=t.target,r=n.name,i=n.value;e.setState((function(e){return{credentials:Object(p.a)(Object(p.a)({},e.credentials),{},Object(b.a)({},r,i))}}))},e.onLogout=Object(y.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.logout(),e.setState({loggedinUser:null});case 2:case"end":return t.stop()}}),t)}))),e.onAddUser=function(){var t=Object(y.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.signup(e.state.signupCredentials),e.props.history.push("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onLogin=function(){var t=Object(y.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),t.next=4,e.props.login(e.state.credentials);case 4:e.props.history.push("/"),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("login-error",t.t0),e.setState({credentials:null}),document.getElementsByName("login")[0].reset();case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(this.state||"").loggedinUser;return Object(v.jsxs)("section",{className:"user-signup main-container",children:[e&&Object(v.jsxs)("div",{className:"loggedin",children:[Object(v.jsxs)("h2",{children:["Loggedin User: ",e.fullname]}),Object(v.jsx)("button",{onClick:this.onLogout,children:"Logout"})]}),!e&&Object(v.jsx)("div",{className:"loggedin essential",children:Object(v.jsx)("h2",{children:"Must Login to get to YouTube Player App"})}),Object(v.jsxs)("form",{className:"login",name:"login",onSubmit:this.onLogin,children:[Object(v.jsx)("h2",{children:"User Login to App:"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"username",children:"Your username"}),Object(v.jsx)("input",{required:!0,type:"text",id:"username",name:"username",onChange:this.handleLoginChange})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"password",children:"Your password"}),Object(v.jsx)("input",{required:!0,type:"text",id:"password",name:"password",onChange:this.handleLoginChange})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{children:"Login"})})]}),Object(v.jsxs)("form",{className:"signup",onSubmit:this.onAddUser,children:[Object(v.jsx)("h2",{children:"Signup a new user:"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"fullname",children:"Your fullname"}),Object(v.jsx)("input",{required:!0,type:"text",id:"fullname",name:"fullname",onChange:this.handleSignupChange})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"username",children:"Your username"}),Object(v.jsx)("input",{required:!0,type:"text",id:"username",name:"username",onChange:this.handleSignupChange})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"password",children:"Your password"}),Object(v.jsx)("input",{required:!0,type:"text",id:"password",name:"password",onChange:this.handleSignupChange})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"isAdmin",children:"Admin:"}),Object(v.jsx)("input",{type:"checkbox",defaultChecked:!1,id:"isAdmin",name:"isAdmin",onChange:this.handleSignupChange})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{children:"Signup"})})]})]})}}]),n}(r.Component)),ee={signup:function(e){return function(){var t=Object(y.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.signup(e);case 2:r=t.sent,n({type:"SIGNUP",signupUser:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(y.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.login(e);case 2:r=t.sent,n({type:"SIGNUP",loginUser:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},te=Object(c.b)(null,ee)($);n(80);function ne(){var e=function(e){return T.getLoggedinUser()?Object(v.jsx)(o.b,{component:e.component,path:e.path}):Object(v.jsx)(o.a,{to:"/signup"})};return Object(v.jsx)(u.a,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(_,{}),Object(v.jsxs)(o.d,{children:[Object(v.jsx)(e,{component:W,path:"/stats"}),Object(v.jsx)(o.b,{component:te,path:"/signup"}),Object(v.jsx)(e,{isUser:!0,component:K,path:"/"})]})]})})}var re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))},ie=n(18),ae=n(40),se=n(41),ce={videos:[],currVideo:null};var oe={user:null};var ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,de=Object(ie.c)({videoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return Object(p.a)(Object(p.a)({},e),{},{videos:t.videos});case"SET_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{currVideo:t.video});case"ADD_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{videos:[].concat(Object(se.a)(e.videos),[t.video])});case"REMOVE_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{videos:e.videos.filter((function(e){return e._id!==t.videoId}))});case"UPDATE_VIDEO":var n=t.updatedVideo;return Object(p.a)(Object(p.a)({},e),{},{videos:e.videos.map((function(e){return e._id===n._id?n:e}))});case"PERFORM_VIDEO":return Object(p.a)({},e);default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)({},e.user)});case"SET_USER":return Object(p.a)(Object(p.a)({},e),{},{user:t.user});default:return e}}}),le=Object(ie.e)(de,ue(Object(ie.a)(ae.a)));s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(c.a,{store:le,children:Object(v.jsx)(ne,{})})}),document.getElementById("root")),re()}},[[81,1,2]]]);
//# sourceMappingURL=main.7a47ea80.chunk.js.map