{"version":3,"sources":["cmps/VideoFilter/VideoFilter.jsx","cmps/VideoPreview/VideoPreview.jsx","cmps/VideoList/VideoList.jsx","services/http.service.js","services/userService.js","cmps/VideoDetails/VideoDetails.jsx","store/actions/userActions.js","services/videoService.js","pages/VideoApp/VideoApp.jsx","store/actions/videoActions.js","pages/StatisticPage/StatisticPage.jsx","cmps/AppHeader/AppHeader.jsx","assets/img/youtube-player.png","pages/Signup/Signup.jsx","App.js","reportWebVitals.js","store/reducers/videoReducer.js","store/reducers/userReducer.js","store/index.js","index.js"],"names":["VideoFilter","state","term","handleChange","target","field","name","value","type","setState","onSearch","ev","preventDefault","props","onChangeFilter","this","className","onSubmit","id","required","placeholder","autoComplete","onChange","Component","VideoPreview","views","video","onSelectVideo","showLongTxt","txt","length","substring","src","img","url","width","height","alt","title","description","parseInt","toLocaleString","onClick","VideoList","videos","map","idx","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","params","res","console","log","dir","response","status","window","location","assign","userService","getUsers","getById","userId","remove","update","getUser","addVideo","videoDuration","user","unshift","searchWord","videoName","time","Date","now","_saveLocalUser","getLoggedinUser","login","signup","logout","_id","loggedinUser","userCred","localStorage","clear","JSON","parse","getItem","setItem","stringify","_VideoDetails","loadVideo","selectedVideo","player","YT","Player","playerVars","autoplay","origin","events","onReady","onPlayerReady","event","ytPlayer","getDuration","playVideo","onPlayerApiChange","getCurrentTime","onPlayerStateChange","getPlayerState","tag","document","createElement","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onYouTubeIframeAPIReady","prevProps","prevState","autoPlay","allow","frameBorder","mapDispatchToProps","dispatch","updatedUser","VideoDetails","connect","videoReducer","currVideo","userReducer","videoService","getVideos","filterBy","queryStr","getYTVideos","getVideoById","videoId","removeVideo","saveVideo","_Id","getEmptyVideo","API_KEY","get","then","items","ytVideosId","ytVideoId","join","ytVideos","ytVideo","snippet","duration","contentDetails","statistics","viewCount","thumbnails","default","_VideoApp","loadVideos","VideoApp","StatisticPage","users","selectedUser","onUserAdmin","isAdmin","loadUser","sec","date","setSeconds","toISOString","substr","username","fullname","showVideos","getTime","AppHeader","withRouter","exact","to","activeClassName","_signup","credentials","signupCredentials","handleSignupChange","checked","handleLoginChange","onLogout","onAddUser","history","push","onLogin","getElementsByName","reset","htmlFor","defaultChecked","signupUser","loginUser","Signup","App","PrivateRoute","component","path","isUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","filter","updatedVideo","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"kdAGaA,EAAb,4MACEC,MAAQ,CACNC,KAAM,IAFV,EAIEC,aAAe,YAAiB,IAAdC,EAAa,EAAbA,OACVC,EAAQD,EAAOE,KACfC,EAAwB,WAAhBH,EAAOI,MAAqBJ,EAAOG,MAAQH,EAAOG,MAChE,EAAKE,SAAL,eAAiBJ,EAAQE,KAP7B,EAUEG,SAAW,SAACC,GACVA,EAAGC,iBACH,EAAKC,MAAMC,eAAX,eAA+B,EAAKb,SAZxC,4CAeE,WAAU,IACAK,EAASS,KAAKd,MAAdK,KACR,OACE,uBAAMU,UAAU,mCAAmCC,SAAUF,KAAKL,SAAlE,UACE,uBACEF,KAAK,OACLU,GAAG,OACHZ,KAAK,OACLa,SAAS,WACTC,YAAY,oBACZC,aAAa,MACbd,MAAOD,EACPgB,SAAUP,KAAKZ,eAEjB,mDA7BR,GAAiCoB,a,MCD1B,SAASC,EAAT,GAAiD,IAKnCC,EALUC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,cACpC,SAASC,EAAYC,GACnB,OAAOA,EAAIC,OAAS,GAAKD,EAAIE,UAAU,EAAG,IAAM,MAAQF,EAO1D,OACE,sBAAKb,UAAU,gBAAf,UACE,qBACEgB,IAAKN,EAAMO,IAAIC,IACfC,MAAOT,EAAMO,IAAIE,MACjBC,OAAQV,EAAMO,IAAIG,OAClBC,IAAI,KAEN,sBAAKrB,UAAU,UAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,mBAAGA,UAAU,iBAAb,wBACA,mBAAGA,UAAU,gBAAb,SAA8BY,EAAYF,EAAMY,YAElD,sBAAKtB,UAAU,uBAAf,UACE,mBAAGA,UAAU,iBAAb,+BACA,mBAAGA,UAAU,cAAb,SAA4BY,EAAYF,EAAMa,kBAEhD,sBAAKvB,UAAU,OAAf,UACE,mBAAGA,UAAU,iBAAb,2BACA,mBAAGA,UAAU,cAAb,UAvBWS,EAuB2BC,EAAMD,MAtB3Ce,SAASf,GAAOgB,eAAe,kBAyBpC,wBAAQC,QAAS,kBAAMf,EAAcD,IAArC,qB,MC9BC,SAASiB,EAAT,GAA+C,IAA1BC,EAAyB,EAAzBA,OAAQjB,EAAiB,EAAjBA,cAClC,OAAKiB,GAAWA,EAAOd,OAGrB,yBAASd,UAAU,aAAnB,SACE,oBAAIA,UAAU,aAAd,SACG4B,GAAUA,EAAO,GAAGA,OAAOC,KAAI,SAACnB,EAAOoB,GAAR,OAC5B,6BACE,cAAC,EAAD,CAAcnB,cAAe,kBAAMA,EAAcD,IAAuBA,MAAOA,GAAjBA,EAAMR,KAD7D4B,UANmB,sD,4CCDlCC,EACA,QAIFC,EAAQC,IAAMC,OAAO,CACrBC,iBAAiB,IAGRC,EAAc,SACnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IAFxBF,EAAc,SAIlBC,EAAUC,GACX,OAAOC,EAAKF,EAAU,OAAQC,IALzBF,EAAc,SAOnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IARxBF,EAAc,SAUhBC,EAAUC,GACb,OAAOC,EAAKF,EAAU,SAAUC,I,SAIzBC,E,8EAAf,WAAoBF,GAApB,+BAAAG,EAAA,6DAA8BC,EAA9B,+BAAuC,MAAOH,EAA9C,+BAAqD,KAArD,kBAE0BN,EAAM,CACpBd,IAAI,GAAD,OAAKa,GAAL,OAAgBM,GACnBI,SACAH,OACAI,OAAoB,QAAXD,EAAoBH,EAAO,OANhD,cAEcK,EAFd,yBAQeA,EAAIL,MARnB,sCAUQM,QAAQC,IAAR,qBAA0BJ,EAA1B,yCAAiEJ,EAAjE,wBAAyFC,IACzFM,QAAQE,IAAR,MACI,KAAIC,UAAoC,MAAxB,KAAIA,SAASC,QAE7BC,OAAOC,SAASC,OAAO,aAdnC,+D,sBCzBO,IAAMC,EAAc,CACzBC,SAqBF,WAEE,OAAOjB,EAAA,SAtBPkB,QAyBF,SAAiBC,GAEf,OAAOnB,EAAA,eAAwBmB,KA1B/BC,OA6BF,SAAgBD,GAEd,OAAOnB,EAAA,eAA2BmB,KA9BlCE,SACAC,UACAC,SAiEF,SAAkBjD,EAAOkD,GACvB,IAAMC,EAAOH,IAQb,OAPAG,EAAKjC,OAAOkC,QAAQ,CAClBC,WAAYrD,EAAMqD,WAClBC,UAAWtD,EAAMY,MACjBsC,cAAeA,EACfK,KAAMC,KAAKC,QAEbV,EAAOI,GACAO,EAAeP,IAzEtBQ,kBACAC,M,4CACAC,O,4CACAC,O,qDA2Baf,E,8EAAf,WAAsBI,GAAtB,SAAArB,EAAA,sEAEeJ,EAAA,eAAwByB,EAAKY,KAAOZ,GAFnD,OAEEA,EAFF,mD,sBAOA,SAASH,IACP,IAAMgB,EAAeL,IACrB,OAAOK,GAA8B,G,4CAGvC,WAAqBC,GAArB,eAAAnC,EAAA,sEAIqBJ,EAAiB,aAAcuC,GAJpD,YAIQd,EAJR,iDAKmBO,EAAeP,IALlC,4C,kEAQA,WAAsBc,GAAtB,eAAAnC,EAAA,sEACqBJ,EAAiB,cAAeuC,GADrD,cACQd,EADR,yBAGSO,EAAeP,IAHxB,4C,kEAMA,sBAAArB,EAAA,6DACEoC,aAAaC,QADf,SAEezC,EAAiB,eAFhC,oF,sBAoBA,SAASiC,IACP,OAAOS,KAAKC,MAAMH,aAAaI,QAAQ,iBAGzC,SAASZ,EAAeP,GAEtB,OADAe,aAAaK,QAAQ,eAAgBH,KAAKI,UAAUrB,IAC7CA,E,UClFHsB,E,4MACJlG,MAAQ,CACNyB,MAAO,KACPkD,cAAe,M,EA0DjBwB,UAAY,WACV,IAAMlF,EAAK,EAAKL,MAAMwF,cAAcnF,GACpC0C,QAAQC,IAAI,gBAAiB3C,GAC7B,EAAKoF,OAAS,IAAIrC,OAAOsC,GAAGC,OAAO,SAAU,CAI3CC,WAAY,CACVC,SAAU,EACVC,OAAQ,4BAEVC,OAAQ,CACNC,QAAS,EAAKC,kB,EAOpBA,cAAgB,SAACC,GACf,IAAIC,EAAWD,EAAM3G,OACrBwD,QAAQC,IAAI,cAAekD,GAC3B,EAAKtG,SAAS,CAAEmE,cAAeoC,EAASC,gBACxCD,EAASE,YACT,EAAKrG,MAAM8D,SAAS,EAAK1E,MAAMyB,MAAO,EAAKzB,MAAM2E,gB,EAEnDuC,kBAAoB,SAACJ,GACnB,IAAIC,EAAWD,EAAM3G,OACrBwD,QAAQC,IAAI,YAAakD,GACzB,EAAKtG,SAAS,CAAEmE,cAAeoC,EAASI,mBACxC,EAAKvG,MAAM8D,SAAS,EAAK1E,MAAMyB,MAAO,EAAKzB,MAAM2E,gB,EAEnDyC,oBAAsB,SAACN,GACrB,IAAIC,EAAWD,EAAM3G,OACrBwD,QAAQC,IAAI,cAAekD,GAC3BnD,QAAQC,IAAI,eAAgBmD,EAASM,kBACrC1D,QAAQC,IAAI,OAAQmD,EAASI,mB,uDA1F/B,WACErG,KAAKN,SAAS,CAAEiB,MAAOX,KAAKF,MAAMwF,gBAIlC,IAAIkB,EAAMC,SAASC,cAAc,UACjCF,EAAIvF,IAAM,qCACV,IAAI0F,EAAiBF,SAASG,qBAAqB,UAAU,GAG7D,GAFAD,EAAeE,WAAWC,aAAaN,EAAKG,GAEvCzD,OAAOsC,GAWVtC,OAAO6D,wBAA0B/G,KAAKqF,gBAXxB,CAEd,IAAMmB,EAAMC,SAASC,cAAc,UACnCF,EAAIvF,IAAM,qCACV,IAAM0F,EAAiBF,SAASG,qBAAqB,UAAU,GAC/DD,EAAeE,WAAWC,aAAaN,EAAKG,GAG5CzD,OAAO6D,wBAA0B/G,KAAKqF,a,gCAQ1C,SAAmB2B,EAAWC,GAS5B,GARID,EAAU1B,cAAcnF,KAAOH,KAAKF,MAAMwF,cAAcnF,IAC1DH,KAAKN,SAAS,CAAEiB,MAAOX,KAAKF,MAAMwF,gBAO/BpC,OAAOsC,GAUNwB,EAAU1B,cAAcnF,KAAOH,KAAKF,MAAMwF,cAAcnF,KAE1D0C,QAAQC,IAAI,4BACZI,OAAO6D,wBAA0B/G,KAAKqF,iBAb1B,CAEd,IAAMmB,EAAMC,SAASC,cAAc,UACnCF,EAAIvF,IAAM,qCACV,IAAM0F,EAAiBF,SAASG,qBAAqB,UAAU,GAC/DD,EAAeE,WAAWC,aAAaN,EAAKG,GAG5CzD,OAAO6D,wBAA0B/G,KAAKqF,a,oBAkD1C,WAAU,IACA1E,EAAUX,KAAKd,MAAfyB,MAER,OAAKA,EAEH,0BAASV,UAAU,gBAAnB,UACE,wBACEE,GAAG,SACHc,IAAG,wCAAmCN,EAAMR,GAAzC,sDACH+G,SAAS,IACTC,MAAM,WACN/F,MAAM,MACNC,OAAO,MACP+F,YAAY,IACZ7F,MAAM,aAKR,oBAAGtB,UAAU,QAAb,gCACqB,+BAAOU,EAAMY,cAjBnB,yD,GAvGKf,aAoItB6G,EAAqB,CAEzBzD,SC/HK,SAAkBjD,EAAOkD,GAC9B,8CAAO,WAAOyD,GAAP,eAAA7E,EAAA,sEACqBY,EAAYO,SAASjD,EAAOkD,GADjD,OACC0D,EADD,OAELD,EAAS,CAAE7H,KAAM,WAAYqE,KAAMyD,IAF9B,2CAAP,wDDiIWC,EAAeC,aAVJ,SAACvI,GAAD,MAAY,CAClCyB,MAAOzB,EAAMwI,aAAaC,UAC1B7D,KAAM5E,EAAM0I,YAAY9D,QAUxBuD,EAF0BI,CAG1BrC,GElJWyC,EAAe,CAC1BC,UAYF,SAAmBC,GACjBlF,QAAQC,IAAI,WAAYiF,GACxB,IAAIC,EAAYD,EAAD,eAAyBA,EAAS5I,MAAtB,GAC3B,OAAOkD,EAAA,eAAwB2F,KAd/BC,Y,4CACAC,aA2DF,SAAsBC,GACpB,OAAO9F,EAAA,gBAAyB8F,KA3DhCC,YA8DF,SAAqBD,GACnB,OAAO9F,EAAA,gBAA4B8F,KA9DnCE,UAkEF,SAAmB1H,GACjB,OAAIA,EAAM+D,IACDrC,EAAA,gBAAyB1B,EAAM2H,KAAO3H,GAEtC0B,EAAA,QAA0B1B,IArEnC4H,cA6EF,WACE,MAAO,CACLvE,WAAY,GACZnC,OAAQ,MA5EN2G,EAAU,0C,4CAShB,WAA2BT,GAA3B,SAAAtF,EAAA,6DACEI,QAAQC,IAAI,WAAYiF,GAD1B,kBAES7F,IAAMuG,IAAN,qHACyGD,EADzG,cACsHT,EAAS5I,OAEnIuJ,MAAK,SAAC9F,GAAD,OAASA,EAAIL,KAAKoG,SACvBD,MAAK,SAACE,GACL,OAAOA,EACJ9G,KAAI,SAAC+G,GACJ,OAAOA,EAAU1I,GAAGgI,WAErBW,UAEJJ,MAAK,SAACE,GACL,OAAO1G,IAAMuG,IAAN,iGACqFG,EADrF,gBACuGJ,OAG/GE,MAAK,SAAC9F,GAAD,OAASA,EAAIL,KAAKoG,SACvBD,MAAK,SAACK,GAAD,OACJA,EAASjH,KAAI,SAACkH,GAAD,MAAc,CAEzB7I,GAAI6I,EAAQ7I,GACZoB,MAAOyH,EAAQC,QAAQ1H,MACvBC,YAAawH,EAAQC,QAAQzH,YAC7B0H,SAAUF,EAAQG,eAAeD,SACjCxI,MAAOsI,EAAQI,WAAWC,UAC1BnI,IAAK,CACHC,IAAK6H,EAAQC,QAAQK,WAAWC,QAAQpI,IACxCC,MAAO4H,EAAQC,QAAQK,WAAWC,QAAQnI,MAC1CC,OAAQ2H,EAAQC,QAAQK,WAAWC,QAAQlI,QAE7C2C,WAAY+D,EAAS5I,YAGxBuJ,MAAK,SAAC7G,GACL,OAAOQ,EAAA,QAA0BR,MAElC6G,MAAK,SAAC7G,GACL,MAAO,CAACA,OAvCd,4C,gCCTM2H,E,4MACJtK,MAAQ,CACN2C,OAAQ,KACRyD,cAAe,KACfyC,SAAU,CACR5I,KAAM,K,EAkBVY,eAAiB,SAACgI,GAChB,EAAKrI,SAAS,CAAEqI,aAChB,EAAKjI,MAAM2J,WAAW1B,I,EAGxBnH,cAAgB,SAACD,GACf,EAAKjB,SAAS,CAAE4F,cAAe3E,K,uDApBjC,WACEX,KAAKF,MAAM2J,WAAWzJ,KAAKd,MAAM6I,UAAY,a,gCAQ/C,WACO/H,KAAKd,MAAMoG,eACdtF,KAAKN,SAAS,CAAE4F,cAAetF,KAAKF,MAAM+B,OAAO,GAAGA,OAAO,O,oBAY/D,WAAU,IACAA,EAAW7B,KAAKF,MAAhB+B,OACR,OACE,0BAAS5B,UAAU,2BAAnB,UACE,cAAC,EAAD,CAAaF,eAAgBC,KAAKD,iBAClC,sBAAKE,UAAU,qCAAf,UACE,cAAC,EAAD,CAAWW,cAAeZ,KAAKY,cAAeiB,OAAQA,IACrD7B,KAAKd,MAAMoG,eACV,cAAC,EAAD,CAAcA,cAAetF,KAAKd,MAAMoG,0B,GAxC5B9E,aAsDlB6G,EAAqB,CACzBoC,WCjEK,SAAoB1B,GACzB,8CAAO,WAAOT,GAAP,eAAA7E,EAAA,sEACcoF,EAAaC,UAAUC,GADrC,WACDlG,EADC,QAEOd,OAFP,gCAE8B8G,EAAaI,YAAYF,GAFvD,OAEelG,EAFf,cAOLyF,EAJe,CACb7H,KAAM,aACNoC,WALG,2CAAP,wDDqEW6H,EAAWjC,aAZA,SAACvI,GACvB,MAAO,CACL2C,OAAQ3C,EAAMwI,aAAa7F,UAUkBwF,EAAzBI,CAA6C+B,GErExDG,G,MAAb,4MACEzK,MAAQ,CACN4E,KAAM,KACN8F,MAAO,KACPC,aAAc,MAJlB,EAqBEC,YAAc,SAACC,GACb,OAAOA,EAAU,MAAQ,MAtB7B,uDAOE,WACE/J,KAAKgK,aART,6DAWE,8BAAAvH,EAAA,sEACqBY,EAAYM,UADjC,UACQG,EADR,OAEE9D,KAAKN,SAAS,CAAEoE,SAChB9D,KAAKN,SAAS,CAAEmK,aAAc/F,KAC1BA,EAAKiG,QAJX,iCAKwB1G,EAAYC,WALpC,OAKUsG,EALV,OAMI5J,KAAKN,SAAS,CAAEkK,UANpB,iDAXF,+EAyBE,SAAYK,GACV,IAAMC,EAAO,IAAI/F,KAAK,GAGtB,OAFA+F,EAAKC,WAAWF,GACGC,EAAKE,cAAcC,OAAO,GAAI,KA5BrD,qBAgCE,SAAQnG,GACN,OAAO,IAAIC,KAAKD,GAAMxC,eAAe,WAjCzC,wBAoCE,SAAWoC,GACT9D,KAAKN,SAAS,CAAEmK,aAAc/F,MArClC,oBAwCE,WAAU,IAAD,SAC+B9D,KAAKd,MAAnC4E,EADD,EACCA,KAAM8F,EADP,EACOA,MAAOC,EADd,EACcA,aACrB,OAAK/F,GAAS+F,EAEZ,0BAAS5J,UAAU,gCAAnB,UACE,kDACA,sBAAKA,UAAU,kBAAf,UACE,4CAAe6D,EAAKwG,YACpB,4CAAexG,EAAKyG,YACpB,yCAAYvK,KAAK8J,YAAYhG,EAAKiG,eAEnCH,GAAS9F,EAAKiG,QACb,sBAAK9J,UAAU,cAAf,UACE,6CACA,kCACE,gCACE,+BACE,oCACA,0CACA,0CACA,uCACA,qDAGJ,gCACG2J,EAAM9H,KAAI,SAACgC,EAAM/B,GAAP,OACT,+BACE,6BAAKA,EAAM,IACX,6BAAK+B,EAAKyG,WACV,6BAAKzG,EAAKwG,WACV,6BAAK,EAAKR,YAAYhG,EAAKiG,WAC3B,6BACE,wBAAQpI,QAAS,kBAAM,EAAK6I,WAAW1G,IAAvC,sBANK/B,cAgBjB,GAED8H,EAAahI,OAAOd,OAAS,EAC5B,sBAAKd,UAAU,eAAf,UACE,uCAAU4J,EAAaU,SAAvB,sBACA,kCACE,gCACE,+BACE,oCACA,6CACA,4CACA,gDACA,mDAGJ,gCACGV,EAAahI,OAAOC,KAAI,SAACnB,EAAOoB,GAAR,OACvB,+BACE,6BAAKA,EAAM,IACX,6BAAKpB,EAAMqD,aACX,6BAAKrD,EAAMsD,YACX,6BAAK,EAAKiC,YAAYvF,EAAMkD,iBAC5B,6BAAK,EAAK4G,QAAQ9J,EAAMuD,UALjBnC,cAYjB,iEAAoC8H,EAAaU,eArEpB,wDA1CvC,GAAmC/J,cCgCtBkK,G,MAAYC,aAhCN,SAAC7K,GAClB,OACE,yBAASG,UAAU,kCAAnB,SACE,sBAAKA,UAAU,aAAf,UACE,cAAC,IAAD,CAAS2K,OAAK,EAACC,GAAG,IAAIC,gBAAgB,aAAtC,SACE,sBAAK7K,UAAU,OAAf,UACE,qBAAKgB,ICVF,6oEDUoBK,IAAI,KAC3B,qDAGJ,qBAAIrB,UAAU,MAAd,UACE,6BACE,cAAC,IAAD,CAAS2K,OAAK,EAACC,GAAG,IAAIC,gBAAgB,aAAtC,oBAIF,6BACE,cAAC,IAAD,CAASF,OAAK,EAACC,GAAG,UAAUC,gBAAgB,aAA5C,4BAIF,6BACE,cAAC,IAAD,CAASD,GAAG,SAASC,gBAAgB,aAArC,sCEpBNC,G,kNACJ7L,MAAQ,CACNyF,aAActB,EAAYiB,kBAC1B0G,YAAa,KACbC,kBAAmB,CACjBlB,SAAS,I,EAQbmB,mBAAqB,YAAiB,IAAd7L,EAAa,EAAbA,OAChBC,EAAQD,EAAOE,KACfC,EAAwB,aAAhBH,EAAOI,KAAsBJ,EAAO8L,QAAU9L,EAAOG,MACnE,EAAKE,UAAS,SAACuH,GAAD,MAAgB,CAC5BgE,kBAAkB,2BAAMhE,EAAUgE,mBAAjB,kBAAqC3L,EAAQE,S,EAGlE4L,kBAAoB,YAAiB,IAAd/L,EAAa,EAAbA,OACfC,EAAQD,EAAOE,KACfC,EAAQH,EAAOG,MACrB,EAAKE,UAAS,SAACuH,GAAD,MAAgB,CAC5B+D,YAAY,2BAAM/D,EAAU+D,aAAjB,kBAA+B1L,EAAQE,S,EAItD6L,S,sBAAW,sBAAA5I,EAAA,sDACTY,EAAYoB,SACZ,EAAK/E,SAAS,CAAEiF,aAAc,OAFrB,2C,EAIX2G,U,uCAAY,WAAO1L,GAAP,SAAA6C,EAAA,sDACV7C,EAAGC,iBACH,EAAKC,MAAM0E,OAAO,EAAKtF,MAAM+L,mBAC7B,EAAKnL,MAAMyL,QAAQC,KAAK,KAHd,2C,wDAKZC,Q,uCAAU,WAAO7L,GAAP,SAAA6C,EAAA,sEAEN7C,EAAGC,iBAFG,SAGA,EAAKC,MAAMyE,MAAM,EAAKrF,MAAM8L,aAH5B,OAIN,EAAKlL,MAAMyL,QAAQC,KAAK,KAJlB,gDAMN3I,QAAQC,IAAI,cAAZ,MACA,EAAKpD,SAAS,CAACsL,YAAa,OAC5BvE,SAASiF,kBAAkB,SAAS,GAAGC,QARjC,yD,oJA5BV,sBAAAlJ,EAAA,0F,0EAuCA,WAAU,IACAkC,GAAiB3E,KAAKd,OAAS,IAA/ByF,aACR,OACE,0BAAS1E,UAAU,6BAAnB,UACG0E,GACC,sBAAK1E,UAAU,WAAf,UACE,iDAAoB0E,EAAa4F,YACjC,wBAAQ5I,QAAS3B,KAAKqL,SAAtB,wBAGF1G,GACA,qBAAK1E,UAAU,qBAAf,SACE,2EAGJ,uBAAMA,UAAU,QAAQV,KAAK,QAAQW,SAAUF,KAAKyL,QAApD,UACE,oDACA,gCACE,uBAAOG,QAAQ,WAAf,2BACA,uBACExL,UAAQ,EACRX,KAAK,OACLU,GAAG,WACHZ,KAAK,WACLgB,SAAUP,KAAKoL,uBAGjB,gCACA,uBAAOQ,QAAQ,WAAf,2BACA,uBACExL,UAAQ,EACRX,KAAK,OACLU,GAAG,WACHZ,KAAK,WACLgB,SAAUP,KAAKoL,uBAGnB,8BACE,gDAGJ,uBAAMnL,UAAU,SAASC,SAAUF,KAAKsL,UAAxC,UACE,oDACA,gCACE,uBAAOM,QAAQ,WAAf,2BACA,uBACExL,UAAQ,EACRX,KAAK,OACLU,GAAG,WACHZ,KAAK,WACLgB,SAAUP,KAAKkL,wBAGnB,gCACE,uBAAOU,QAAQ,WAAf,2BACA,uBACExL,UAAQ,EACRX,KAAK,OACLU,GAAG,WACHZ,KAAK,WACLgB,SAAUP,KAAKkL,wBAGnB,gCACE,uBAAOU,QAAQ,WAAf,2BACA,uBACExL,UAAQ,EACRX,KAAK,OACLU,GAAG,WACHZ,KAAK,WACLgB,SAAUP,KAAKkL,wBAGnB,gCACE,uBAAOU,QAAQ,UAAf,oBACA,uBACEnM,KAAK,WACLoM,gBAAgB,EAChB1L,GAAG,UACHZ,KAAK,UACLgB,SAAUP,KAAKkL,wBAGnB,8BACE,wD,GApIU1K,cA4IhB6G,GAAqB,CACzB7C,OPjJK,SAAgBV,GACrB,8CAAO,WAAOwD,GAAP,eAAA7E,EAAA,sEACoBY,EAAYmB,OAAOV,GADvC,OACCgI,EADD,OAELxE,EAAS,CAAE7H,KAAM,SAAUqM,eAFtB,2CAAP,uDOiJAvH,MP3IK,SAAeT,GACpB,8CAAO,WAAOwD,GAAP,eAAA7E,EAAA,sEACmBY,EAAYkB,MAAMT,GADrC,OACCiI,EADD,OAELzE,EAAS,CAAE7H,KAAM,SAAUsM,cAFtB,2CAAP,wDO6IWC,GAASvE,YAAQ,KAAMJ,GAAdI,CAAkCsD,G,MC5IjD,SAASkB,KACd,IAAMC,EAAe,SAACpM,GAEpB,OALKuD,EAAYiB,kBAMf,cAAC,IAAD,CAAO6H,UAAWrM,EAAMqM,UAAWC,KAAMtM,EAAMsM,OAE/C,cAAC,IAAD,CAAUvB,GAAG,aAGjB,OACE,cAAC,IAAD,UACE,sBAAK5K,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAACiM,EAAD,CAAcC,UAAWxC,EAAeyC,KAAK,WAC7C,cAAC,IAAD,CAAOD,UAAWH,GAAQI,KAAK,YAC/B,cAACF,EAAD,CAAcG,QAAQ,EAAMF,UAAWzC,EAAU0C,KAAK,cC3BhE,IAYeE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9D,MAAK,YAAkD,IAA/C+D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,2BCPRO,GAAgB,CACpBjL,OAAQ,GACR8F,UAAW,MCFb,IAAMmF,GAAgB,CACpBhJ,KAAM,MCIR,IAAMiJ,GAAmB7J,OAAO8J,sCAAwCC,KAElEC,GAAcC,aAAgB,CAClCzF,aFHK,WAAsD,IAAhCxI,EAA+B,uDAAvB4N,GAAeM,EAAQ,uCAC1D,OAAQA,EAAO3N,MACb,IAAK,aACH,OAAO,2BACFP,GADL,IAEE2C,OAAQuL,EAAOvL,SAEnB,IAAK,YACH,OAAO,2BACF3C,GADL,IAEEyI,UAAWyF,EAAOzM,QAEtB,IAAK,YACH,OAAO,2BACFzB,GADL,IAEE2C,OAAO,GAAD,oBAAM3C,EAAM2C,QAAZ,CAAoBuL,EAAOzM,UAErC,IAAK,eACH,OAAO,2BACFzB,GADL,IAEE2C,OAAQ3C,EAAM2C,OAAOwL,QAAO,SAAC1M,GAAD,OAAWA,EAAM+D,MAAQ0I,EAAOjF,aAEhE,IAAK,eAAL,IACUmF,EAAiBF,EAAjBE,aACR,OAAO,2BACFpO,GADL,IAEE2C,OAAQ3C,EAAM2C,OAAOC,KAAI,SAACnB,GAAD,OACvBA,EAAM+D,MAAQ4I,EAAa5I,IAAM4I,EAAe3M,OAGtD,IAAK,gBACH,OAAO,eACFzB,GAIP,QACE,OAAOA,IEjCX0I,YDNK,WAAqD,IAAhC1I,EAA+B,uDAAvB4N,GAAeM,EAAQ,uCACzD,OAAQA,EAAO3N,MACb,IAAK,SACH,OAAO,2BACFP,GADL,IAEE4E,KAAK,eAAM5E,EAAM4E,QAErB,IAAK,WACH,OAAO,2BACF5E,GADL,IAEE4E,KAAMsJ,EAAOtJ,OAGjB,QACE,OAAO5E,MCLAqO,GAAQC,aAAYN,GAAaH,GAAiBU,aAAgBC,QCJ/EC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJ9G,SAASqH,eAAe,SAM1BxB,O","file":"static/js/main.7a47ea80.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport \"./VideoFilter.scss\";\n\nexport class VideoFilter extends Component {\n  state = {\n    term: \"\",\n  };\n  handleChange = ({ target }) => {\n    const field = target.name;\n    const value = target.type === \"number\" ? +target.value : target.value;\n    this.setState({ [field]: value });\n  };\n\n  onSearch = (ev) => {\n    ev.preventDefault();\n    this.props.onChangeFilter({ ...this.state });\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <form className=\"video-filter flex justify-center\" onSubmit={this.onSearch}>\n        <input\n          type=\"text\"\n          id=\"term\"\n          name=\"term\"\n          required=\"required\"\n          placeholder=\"Search on YouTube\"\n          autoComplete=\"off\"\n          value={name}\n          onChange={this.handleChange}\n        />\n        <button>Search</button>\n      </form>\n    );\n  }\n}\n","import \"./VideoPreview.scss\";\r\n\r\nexport function VideoPreview({ video, onSelectVideo }) {\r\n  function showLongTxt(txt) {\r\n    return txt.length > 60 ? txt.substring(0, 60) + \"...\" : txt;\r\n  }\r\n\r\n  function showViews(views) {\r\n    return parseInt(views).toLocaleString(\"he-IL\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"video-preview\">\r\n      <img\r\n        src={video.img.url}\r\n        width={video.img.width}\r\n        height={video.img.height}\r\n        alt=\"\"\r\n      />\r\n      <div className=\"content\">\r\n        <div className=\"preview-section flex\">\r\n          <p className=\"preview-header\">Song Name:</p>\r\n          <p className=\"preview-title\">{showLongTxt(video.title)}</p>\r\n        </div>\r\n        <div className=\"preview-section flex\">\r\n          <p className=\"preview-header\">Song Description:</p>\r\n          <p className=\"preview-txt\">{showLongTxt(video.description)}</p>\r\n        </div>\r\n        <div className=\"flex\">\r\n          <p className=\"preview-header\">Total views: </p>\r\n          <p className=\"preview-txt\">{showViews(video.views)}</p>\r\n        </div>\r\n      </div>\r\n      <button onClick={() => onSelectVideo(video)}>Play</button>\r\n    </div>\r\n  );\r\n}\r\n","import { VideoPreview } from \"../VideoPreview\";\r\nimport \"./VideoList.scss\";\r\n\r\nexport function VideoList({ videos, onSelectVideo }) {\r\n  if (!videos || !videos.length) return <div>Loading Videos.....</div>;\r\n\r\n  return (\r\n    <section className=\"video-list\">\r\n      <ul className=\"clean-list\">\r\n        {videos && videos[0].videos.map((video, idx) => (\r\n            <li key={idx}>\r\n              <VideoPreview onSelectVideo={() => onSelectVideo(video)} key={video.id} video={video} />\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n","import Axios from 'axios'\r\n// import {router} from '@/router'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            // Depends on routing startegy - hash or history\r\n            window.location.assign('/#/signup')\r\n            // window.location.assign('/signup')\r\n            // router.push('/signup')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from \"./http.service\";\n\nexport const userService = {\n  getUsers,\n  getById,\n  remove,\n  update,\n  getUser,\n  addVideo,\n  getLoggedinUser,\n  login,\n  signup,\n  logout,\n};\n\n// var user = {\n//   _id: \"\",\n//   fullname: \"David Lee\",\n//   username: \"david\",\n//   password: \"123\",\n//   isAdmin: false,\n//   videos: [],\n// };\n\nfunction getUsers() {\n  // return storageService.query('user')\n  return httpService.get(`user`);\n}\n\nfunction getById(userId) {\n  // return storageService.get('user', userId)\n  return httpService.get(`user/${userId}`);\n}\n\nfunction remove(userId) {\n  // return storageService.remove('user', userId)\n  return httpService.delete(`user/${userId}`);\n}\n\nasync function update(user) {\n  // return storageService.put('user', user)\n  user = await httpService.put(`user/${user._id}`, user);\n  // Handle case in which admin updates other user's details\n  // if (getLoggedinUser()._id === user._id) _saveLocalUser(user);\n}\n\nfunction getUser() {\n  const loggedinUser = getLoggedinUser();\n  return loggedinUser ? loggedinUser : {};\n}\n\nasync function login(userCred) {\n  // const users = await storageService.query('user')\n  // const user = users.find(user => user.username === userCred.username)\n  // return _saveLocalUser(user)\n  const user = await httpService.post(\"auth/login\", userCred);\n  if (user) return _saveLocalUser(user);\n}\n\nasync function signup(userCred) {\n  const user = await httpService.post(\"auth/signup\", userCred);\n  // user.name = name;\n  return _saveLocalUser(user);\n}\n\nasync function logout() {\n  localStorage.clear();\n  return await httpService.post(\"auth/logout\");\n  // user = getEmptyLoggedinUser();\n  // user = null;\n  // return _saveLocalUser(user);\n}\n\nfunction addVideo(video, videoDuration) {\n  const user = getUser();\n  user.videos.unshift({\n    searchWord: video.searchWord,\n    videoName: video.title,\n    videoDuration: videoDuration,\n    time: Date.now(),\n  });\n  update(user);\n  return _saveLocalUser(user);\n}\n\nfunction getLoggedinUser() {\n  return JSON.parse(localStorage.getItem(\"loggedinUser\"));\n}\n\nfunction _saveLocalUser(user) {\n  localStorage.setItem(\"loggedinUser\", JSON.stringify(user));\n  return user;\n}\n\n// function getEmptyLoggedinUser() {\n//   return {\n//     userId: \"\",\n//     fullname: \"\"\n//   };\n// }\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\n// import YouTube from \"react-youtube\";\n// import ReactPlayer from \"react-player/youtube\";\nimport { addVideo } from \"../../store/actions/userActions\";\n// import { getVideoById } from \"../../store/actions/videoActions\";\n// import { userReducer } from \"../../store/reducers/userReducer\";\nimport \"./VideoDetails.scss\";\n\nclass _VideoDetails extends Component {\n  state = {\n    video: null,\n    videoDuration: null,\n    // videoWatchedDuration: null,\n  };\n\n  componentDidMount() {\n    this.setState({ video: this.props.selectedVideo });\n    // this.props.getVideoById(this.props.selectedVideoId);\n    // this.props.getVideoById(this.props.match.params.id);\n\n    var tag = document.createElement(\"script\");\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    var firstScriptTag = document.getElementsByTagName(\"script\")[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    if (!window.YT) {\n      // If not, load the script asynchronously\n      const tag = document.createElement(\"script\");\n      tag.src = \"https://www.youtube.com/iframe_api\";\n      const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n      // onYouTubeIframeAPIReady will load the video after the script is loaded\n      window.onYouTubeIframeAPIReady = this.loadVideo;\n    } else {\n      // If script is already there, load the video directly\n      window.onYouTubeIframeAPIReady = this.loadVideo();\n      // this.loadVideo();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.selectedVideo.id !== this.props.selectedVideo.id) {\n      this.setState({ video: this.props.selectedVideo });\n    }\n    // this.props.getVideoById(this.props.selectedVideoId);\n    // if (prevProps.match.params.id !== this.props.match.params.id) {\n    //   this.props.getVideoById(this.props.match.params.id);\n    // }\n\n    if (!window.YT) {\n      // If not, load the script asynchronously\n      const tag = document.createElement(\"script\");\n      tag.src = \"https://www.youtube.com/iframe_api\";\n      const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n      // onYouTubeIframeAPIReady will load the video after the script is loaded\n      window.onYouTubeIframeAPIReady = this.loadVideo;\n    } else {\n      if (prevProps.selectedVideo.id !== this.props.selectedVideo.id) {\n        // If script is already there, load the video directly\n        console.log('YT player - change video');\n        window.onYouTubeIframeAPIReady = this.loadVideo();\n        // this.loadVideo();\n      }\n    }\n  }\n\n  loadVideo = () => {\n    const id = this.props.selectedVideo.id;\n    console.log(\"load-video-id\", id);\n    this.player = new window.YT.Player(\"player\", {\n      // height: 315,\n      // width: 560,\n      // videoId: id,\n      playerVars: {\n        autoplay: 1,\n        origin: \"http://localhost:3000/#/\",\n      },\n      events: {\n        onReady: this.onPlayerReady,\n        // onApiChange: this.onPlayerApiChange,\n        // onStateChange: this.onPlayerStateChange,\n      },\n    });\n  };\n\n  onPlayerReady = (event) => {\n    var ytPlayer = event.target;\n    console.log(\"ready-event\", event);\n    this.setState({ videoDuration: ytPlayer.getDuration() });\n    ytPlayer.playVideo();\n    this.props.addVideo(this.state.video, this.state.videoDuration);\n  };\n  onPlayerApiChange = (event) => {\n    var ytPlayer = event.target;\n    console.log(\"api-event\", event);\n    this.setState({ videoDuration: ytPlayer.getCurrentTime() });\n    this.props.addVideo(this.state.video, this.state.videoDuration);\n  };\n  onPlayerStateChange = (event) => {\n    var ytPlayer = event.target;\n    console.log(\"state-event\", event);\n    console.log(\"player-state\", ytPlayer.getPlayerState());\n    console.log(\"time\", ytPlayer.getCurrentTime());\n  };\n\n  render() {\n    const { video } = this.state;\n    // const opts = { height: \"340\", width: \"600\", playerVars: { autoplay: 1 } };\n    if (!video) return <div>Loading Video.....</div>;\n    return (\n      <section className=\"video-details\">\n        <iframe\n          id=\"player\"\n          src={`https://www.youtube.com/embed/${video.id}?version=3&enablejsapi=1&autoplay=1&allow=autoplay`}\n          autoPlay=\"1\"\n          allow=\"autoplay\"\n          width=\"560\"\n          height=\"315\"\n          frameBorder=\"0\"\n          title=\"ytplayer\"\n        ></iframe>\n        {/* <YouTube videoId={video.id} opts={opts} onReady={this.onPlayerReady} onStateChange={this.onPlayerStateChange} ></YouTube> */}\n        {/* <ReactPlayer url={`https://www.youtube.com/watch?v=${video.id}`} onStart={this._onReady} onDuration={this.getDuration} ref={this.ref} onEnded={this.getCurrentTime} /> */}\n        {/* <ReactPlayer url={`https://www.youtube.com/embed/${video.id}`} onStart={this._onReady} onDuration={this.getDuration} ref={this.ref} onEnded={this.getCurrentTime} /> */}\n        <p className=\"title\">\n          Currently playing: <span>{video.title}</span>\n        </p>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  video: state.videoReducer.currVideo,\n  user: state.userReducer.user,\n});\n\nconst mapDispatchToProps = {\n  // getVideoById,\n  addVideo,\n};\n\nexport const VideoDetails = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_VideoDetails);\n","import { userService } from \"../../services/userService\";\r\n\r\nexport function signup(user) {\r\n  return async (dispatch) => {\r\n    const signupUser = await userService.signup(user);\r\n    dispatch({ type: \"SIGNUP\", signupUser });\r\n  };\r\n}\r\n\r\nexport function login(user) {\r\n  return async (dispatch) => {\r\n    const loginUser = await userService.login(user);\r\n    dispatch({ type: \"SIGNUP\", loginUser });\r\n  };\r\n}\r\n\r\nexport function addVideo(video, videoDuration) {\r\n  return async (dispatch) => {\r\n    const updatedUser = await userService.addVideo(video, videoDuration);\r\n    dispatch({ type: \"SET_USER\", user: updatedUser });\r\n  };\r\n}\r\n","import { httpService } from \"./http.service.js\";\r\nimport Axios from \"axios\";\r\n\r\nexport const videoService = {\r\n  getVideos,\r\n  getYTVideos,\r\n  getVideoById,\r\n  removeVideo,\r\n  saveVideo,\r\n  getEmptyVideo,\r\n  // performVideo,\r\n};\r\n\r\nconst API_KEY = \"AIzaSyBnWvaojEtdHAjoLNxrG8k87QpGpvOHgiQ\";\r\n// const API_KEY = \"AIzaSyCp8KMTEjR9frWUGpSnc8Cw5cLVe7wRRDM\";\r\n\r\nfunction getVideos(filterBy) {\r\n  console.log(\"filterBy\", filterBy);\r\n  var queryStr = !filterBy ? \"\" : `?txt=${filterBy.term}`;\r\n  return httpService.get(`video${queryStr}`);\r\n}\r\n\r\nasync function getYTVideos(filterBy) {\r\n  console.log(\"filterBy\", filterBy);\r\n  return Axios.get(\r\n    `https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&maxResults=2&key=${API_KEY}&q=${filterBy.term}`\r\n  )\r\n    .then((res) => res.data.items)\r\n    .then((ytVideosId) => {\r\n      return ytVideosId\r\n        .map((ytVideoId) => {\r\n          return ytVideoId.id.videoId;\r\n        })\r\n        .join();\r\n    })\r\n    .then((ytVideosId) => {\r\n      return Axios.get(\r\n        `https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id=${ytVideosId}&key=${API_KEY}`\r\n      );\r\n    })\r\n    .then((res) => res.data.items)\r\n    .then((ytVideos) =>\r\n      ytVideos.map((ytVideo) => ({\r\n        // id: ytVideo.id.videoId,\r\n        id: ytVideo.id,\r\n        title: ytVideo.snippet.title,\r\n        description: ytVideo.snippet.description,\r\n        duration: ytVideo.contentDetails.duration,\r\n        views: ytVideo.statistics.viewCount,\r\n        img: {\r\n          url: ytVideo.snippet.thumbnails.default.url,\r\n          width: ytVideo.snippet.thumbnails.default.width,\r\n          height: ytVideo.snippet.thumbnails.default.height,\r\n        },\r\n        searchWord: filterBy.term,\r\n      }))\r\n    )\r\n    .then((videos) => {\r\n      return httpService.post(`video`, videos);\r\n    })\r\n    .then((videos) => {\r\n      return [videos];\r\n    });\r\n}\r\n\r\nfunction getVideoById(videoId) {\r\n  return httpService.get(`video/${videoId}`);\r\n}\r\n\r\nfunction removeVideo(videoId) {\r\n  return httpService.delete(`video/${videoId}`);\r\n}\r\n\r\n// Update or Add\r\nfunction saveVideo(video) {\r\n  if (video._id) {\r\n    return httpService.put(`video/${video._Id}`, video);\r\n  } else {\r\n    return httpService.post(`video`, video);\r\n  }\r\n}\r\n\r\n// function performVideo(video){\r\n//   return httpService.put(`video/${video._Id}/start`, video);\r\n// }\r\n\r\nfunction getEmptyVideo() {\r\n  return {\r\n    searchWord: \"\",\r\n    videos: [],\r\n  };\r\n}\r\n","import { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { VideoFilter } from \"../../cmps/VideoFilter/VideoFilter\";\r\nimport { VideoList } from \"../../cmps/VideoList/VideoList\";\r\nimport { VideoDetails } from \"../../cmps/VideoDetails/VideoDetails\";\r\n// import { eventBusService } from \"../../services/eventBusService\";\r\nimport {\r\n  loadVideos,\r\n  // removeVideo,\r\n  // performVideo,\r\n} from \"../../store/actions/videoActions\";\r\nimport \"./VideoApp.scss\";\r\n\r\nclass _VideoApp extends Component {\r\n  state = {\r\n    videos: null,\r\n    selectedVideo: null,\r\n    filterBy: {\r\n      term: \"\",\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.loadVideos(this.state.filterBy || \"beatles\");\r\n\r\n    // eventBusService.on(\"Start Action\", (data) => {\r\n    //   // this.props.performVideo(data);\r\n    //   this.props.loadVideos(this.state.filterBy);\r\n    // });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (!this.state.selectedVideo)\r\n      this.setState({ selectedVideo: this.props.videos[0].videos[0] });\r\n  }\r\n\r\n  onChangeFilter = (filterBy) => {\r\n    this.setState({ filterBy });\r\n    this.props.loadVideos(filterBy);\r\n  };\r\n\r\n  onSelectVideo = (video) => {\r\n    this.setState({ selectedVideo: video });\r\n  };\r\n\r\n  render() {\r\n    const { videos } = this.props;\r\n    return (\r\n      <section className=\"video-app main-container\">\r\n        <VideoFilter onChangeFilter={this.onChangeFilter} />\r\n        <div className=\"video-container flex space-between\">\r\n          <VideoList onSelectVideo={this.onSelectVideo} videos={videos} />\r\n          {this.state.selectedVideo && (\r\n            <VideoDetails selectedVideo={this.state.selectedVideo} />\r\n          )}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    videos: state.videoReducer.videos,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadVideos,\r\n  // removeVideo,\r\n  // performVideo,\r\n};\r\n\r\nexport const VideoApp = connect(mapStateToProps, mapDispatchToProps)(_VideoApp);\r\n","import { videoService } from \"../../services/videoService\";\r\n\r\n// Thunk - Action Dispatcher\r\nexport function loadVideos(filterBy) {\r\n  return async (dispatch) => {\r\n    let videos = await videoService.getVideos(filterBy);\r\n    if (!videos.length) videos = await videoService.getYTVideos(filterBy);\r\n    const action = {\r\n      type: \"SET_VIDEOS\",\r\n      videos,\r\n    };\r\n    dispatch(action);\r\n  };\r\n}\r\n\r\nexport function getVideoById(videoId) {\r\n  return async (dispatch) => {\r\n    const video = await videoService.getVideoById(videoId);\r\n    dispatch({ type: \"SET_VIDEO\", video });\r\n  };\r\n}\r\n\r\nexport function saveVideo(video) {\r\n  return async (dispatch) => {\r\n    const isAdd = !video._id;\r\n    const updatedVideo = await videoService.save(video);\r\n\r\n    if (isAdd) dispatch({ type: \"ADD_VIDEO\", video: updatedVideo });\r\n    else dispatch({ type: \"UPDATE_VIDEO\", updatedVideo });\r\n  };\r\n}\r\n\r\nexport function removeVideo(videoId) {\r\n  return async (dispatch) => {\r\n    await videoService.removeVideo(videoId);\r\n    dispatch({ type: \"REMOVE_VIDEO\", videoId });\r\n  };\r\n}\r\n\r\nexport function performVideo(video) {\r\n  return async (dispatch) => {\r\n    await videoService.performVideo(video);\r\n    dispatch({ type: \"PERFORM_VIDEO\", video });\r\n  };\r\n}\r\n","import { Component } from \"react\";\nimport { userService } from \"../../services/userService\";\nimport \"./StatisticPage.scss\";\n\nexport class StatisticPage extends Component {\n  state = {\n    user: null,\n    users: null,\n    selectedUser: null,\n  };\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  async loadUser() {\n    const user = await userService.getUser();\n    this.setState({ user });\n    this.setState({ selectedUser: user });\n    if (user.isAdmin) {\n      const users = await userService.getUsers();\n      this.setState({ users });\n    }\n  }\n\n  onUserAdmin = (isAdmin) => {\n    return isAdmin ? \"Yes\" : \"No\";\n  };\n\n  getDuration(sec) {\n    const date = new Date(0);\n    date.setSeconds(sec);\n    const timeString = date.toISOString().substr(11, 8);\n    return timeString;\n  }\n\n  getTime(time) {\n    return new Date(time).toLocaleString(\"he-IL\");\n  }\n\n  showVideos(user) {\n    this.setState({ selectedUser: user });\n  }\n\n  render() {\n    const { user, users, selectedUser } = this.state;\n    if (!user || !selectedUser) return <div>Loading user.....</div>;\n    return (\n      <section className=\"statistic-page main-container\">\n        <h1>Statistics Page:</h1>\n        <div className=\"stats-cred flex\">\n          <h2>Fullname: {user.username}</h2>\n          <h2>Username: {user.fullname}</h2>\n          <h2>Admin: {this.onUserAdmin(user.isAdmin)}</h2>\n        </div>\n        {users && user.isAdmin ? (\n          <div className=\"stats-users\">\n            <h3>Users list:</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th>Id</th>\n                  <th>fullname</th>\n                  <th>Username</th>\n                  <th>Admin</th>\n                  <th>Watched videos</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((user, idx) => (\n                  <tr key={idx}>\n                    <td>{idx + 1}</td>\n                    <td>{user.fullname}</td>\n                    <td>{user.username}</td>\n                    <td>{this.onUserAdmin(user.isAdmin)}</td>\n                    <td>\n                      <button onClick={() => this.showVideos(user)}>\n                        Show\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {selectedUser.videos.length > 0 ? (\n          <div className=\"stats-videos\">\n            <h3>User {selectedUser.fullname} watched videos:</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th>Id</th>\n                  <th>Search term</th>\n                  <th>Video name</th>\n                  <th>Video duration</th>\n                  <th>Time watched</th>\n                </tr>\n              </thead>\n              <tbody>\n                {selectedUser.videos.map((video, idx) => (\n                  <tr key={idx}>\n                    <td>{idx + 1}</td>\n                    <td>{video.searchWord}</td>\n                    <td>{video.videoName}</td>\n                    <td>{this.getDuration(video.videoDuration)}</td>\n                    <td>{this.getTime(video.time)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <h3>No watched videos yet for user {selectedUser.fullname}</h3>\n        )}\n      </section>\n    );\n  }\n}\n","import { NavLink, withRouter } from \"react-router-dom\";\nimport \"./AppHeader.scss\";\nimport youtubeLogo from \"../../assets/img/youtube-player.png\";\n\nconst _AppHeader = (props) => {\n  return (\n    <section className=\"header-container main-container\">\n      <div className=\"app-header\">\n        <NavLink exact to=\"/\" activeClassName=\"active-nav\">\n          <div className=\"logo\">\n            <img src={youtubeLogo} alt=\"\" />\n            <h3>YouTube Player</h3>\n          </div>\n        </NavLink>\n        <ul className=\"nav\">\n          <li>\n            <NavLink exact to=\"/\" activeClassName=\"active-nav\">\n              Home\n            </NavLink>\n          </li>\n          <li>\n            <NavLink exact to=\"/signup\" activeClassName=\"active-nav\">\n              Login/Signup\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/stats\" activeClassName=\"active-nav\">\n              Statistics\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nexport const AppHeader = withRouter(_AppHeader);\n","export default \"data:image/png;base64,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\"","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { signup, login } from \"../../store/actions/userActions\";\nimport { userService } from \"../../services/userService\";\nimport \"./Signup.scss\";\n\nclass _signup extends Component {\n  state = {\n    loggedinUser: userService.getLoggedinUser(),\n    credentials: null,\n    signupCredentials: {\n      isAdmin: false\n    },\n  };\n\n  async componentDidMount() {\n    // console.log(\"this.state\", this.state);\n  }\n\n  handleSignupChange = ({ target }) => {\n    const field = target.name;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    this.setState((prevState) => ({\n      signupCredentials: { ...prevState.signupCredentials, [field]: value },\n    }));\n  };\n  handleLoginChange = ({ target }) => {\n    const field = target.name;\n    const value = target.value;\n    this.setState((prevState) => ({\n      credentials: { ...prevState.credentials, [field]: value },\n    }));\n  };\n\n  onLogout = async () => {\n    userService.logout();\n    this.setState({ loggedinUser: null });\n  };\n  onAddUser = async (ev) => {\n    ev.preventDefault();\n    this.props.signup(this.state.signupCredentials);\n    this.props.history.push(\"/\");\n  };\n  onLogin = async (ev) => {\n    try{\n      ev.preventDefault();\n      await this.props.login(this.state.credentials);\n      this.props.history.push(\"/\");\n    }catch (err) {\n      console.log('login-error', err);\n      this.setState({credentials: null})\n      document.getElementsByName('login')[0].reset();\n  }\n  };\n  render() {\n    const { loggedinUser } = this.state || \"\";\n    return (\n      <section className=\"user-signup main-container\">\n        {loggedinUser && (\n          <div className=\"loggedin\">\n            <h2>Loggedin User: {loggedinUser.fullname}</h2>\n            <button onClick={this.onLogout}>Logout</button>\n          </div>\n        )}\n        {!loggedinUser && (\n          <div className=\"loggedin essential\">\n            <h2>Must Login to get to YouTube Player App</h2>\n          </div>\n        )}\n        <form className=\"login\" name=\"login\" onSubmit={this.onLogin}>\n          <h2>User Login to App:</h2>\n          <div>\n            <label htmlFor=\"username\">Your username</label>\n            <input\n              required\n              type=\"text\"\n              id=\"username\"\n              name=\"username\"\n              onChange={this.handleLoginChange}\n            />\n            </div>\n            <div>\n            <label htmlFor=\"password\">Your password</label>\n            <input\n              required\n              type=\"text\"\n              id=\"password\"\n              name=\"password\"\n              onChange={this.handleLoginChange}\n            />\n          </div>\n          <div>\n            <button>Login</button>\n          </div>\n        </form>\n        <form className=\"signup\" onSubmit={this.onAddUser}>\n          <h2>Signup a new user:</h2>\n          <div>\n            <label htmlFor=\"fullname\">Your fullname</label>\n            <input\n              required\n              type=\"text\"\n              id=\"fullname\"\n              name=\"fullname\"\n              onChange={this.handleSignupChange}\n            />\n            </div>\n          <div>\n            <label htmlFor=\"username\">Your username</label>\n            <input\n              required\n              type=\"text\"\n              id=\"username\"\n              name=\"username\"\n              onChange={this.handleSignupChange}\n            />\n            </div>\n          <div>\n            <label htmlFor=\"password\">Your password</label>\n            <input\n              required\n              type=\"text\"\n              id=\"password\"\n              name=\"password\"\n              onChange={this.handleSignupChange}\n            />\n            </div>\n          <div>\n            <label htmlFor=\"isAdmin\">Admin:</label>\n            <input\n              type=\"checkbox\"\n              defaultChecked={false}\n              id=\"isAdmin\"\n              name=\"isAdmin\"\n              onChange={this.handleSignupChange}\n            />\n          </div>\n          <div>\n            <button>Signup</button>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  signup,\n  login\n};\n\nexport const Signup = connect(null, mapDispatchToProps)(_signup);\n","import { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport { VideoApp } from \"./pages/VideoApp/VideoApp\";\nimport { StatisticPage } from \"./pages/StatisticPage/StatisticPage\";\nimport { AppHeader } from \"./cmps/AppHeader/AppHeader\";\nimport { Signup } from \"./pages/Signup/Signup\";\nimport { userService } from \"./services/userService\";\nimport \"./App.scss\";\n\nfunction setValid() {\n  return userService.getLoggedinUser();\n}\nexport function App() {\n  const PrivateRoute = (props) => {\n    const isSignup = setValid();\n    return isSignup ? (\n      <Route component={props.component} path={props.path} />\n    ) : (\n      <Redirect to=\"/signup\" />\n    );\n  };\n  return (\n    <Router>\n      <div className=\"App\">\n        <AppHeader />\n        <Switch>\n          <PrivateRoute component={StatisticPage} path=\"/stats\" />\n          <Route component={Signup} path=\"/signup\" />\n          <PrivateRoute isUser={true} component={VideoApp} path=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const INITIAL_STATE = {\r\n  videos: [],\r\n  currVideo: null,\r\n};\r\n\r\nexport function videoReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SET_VIDEOS\":\r\n      return {\r\n        ...state,\r\n        videos: action.videos,\r\n      };\r\n    case \"SET_VIDEO\":\r\n      return {\r\n        ...state,\r\n        currVideo: action.video,\r\n      };\r\n    case \"ADD_VIDEO\":\r\n      return {\r\n        ...state,\r\n        videos: [...state.videos, action.video],\r\n      };\r\n    case \"REMOVE_VIDEO\":\r\n      return {\r\n        ...state,\r\n        videos: state.videos.filter((video) => video._id !== action.videoId),\r\n      };\r\n    case \"UPDATE_VIDEO\":\r\n      const { updatedVideo } = action;\r\n      return {\r\n        ...state,\r\n        videos: state.videos.map((video) =>\r\n          video._id === updatedVideo._id ? updatedVideo : video\r\n        ),\r\n      };\r\n    case \"PERFORM_VIDEO\":\r\n      return {\r\n        ...state,\r\n        // videos: [...state.videos, action.video],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const INITIAL_STATE = {\r\n  user: null,\r\n};\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SIGNUP\":\r\n      return {\r\n        ...state,\r\n        user: { ...state.user },\r\n      };\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport { videoReducer } from './reducers/videoReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst rootReducer = combineReducers({\r\n  videoReducer,\r\n  userReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.scss\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}